<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stok-Takip</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><img src="assets/images/budur.png"></h1>
            <div class="header-stats">
                <div class="stat-card">
                    <h3>Toplam ÃœrÃ¼n</h3>
                    <span id="totalProducts">0</span>
                </div>
                <div class="stat-card">
                    <h3>DÃ¼ÅŸÃ¼k Stok</h3>
                    <span id="lowStock">0</span>
                </div>
                <div class="stat-card">
                    <h3>Toplam DeÄŸer</h3>
                    <span id="totalValue">â‚º0</span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="dashboard">ğŸ“Š Dashboard</button>
            <button class="tab-btn" data-tab="products">ğŸ›ï¸ ÃœrÃ¼nler</button>
            <button class="tab-btn" data-tab="add-product">â• ÃœrÃ¼n Ekle</button>
            <button class="tab-btn" data-tab="reports">ğŸ“ˆ Raporlar</button>
    
        </nav>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard-grid">
                <div class="card">
                    <h3>ğŸ” HÄ±zlÄ± Arama</h3>
                    <div class="search-container">
                        <input type="text" id="dashboardSearchInput" placeholder="ÃœrÃ¼n ara...">

                        <button id="dashboardSearchBtn">ğŸ”</button>
                    </div>
                </div>
                
                <div class="card">
                    <h3>âš ï¸ Kritik Stok UyarÄ±larÄ±</h3>
                    <div id="criticalAlerts" class="alerts-container">
                        <p class="no-alerts">Kritik stok uyarÄ±sÄ± bulunmuyor</p>
                    </div>
                </div>

                <div class="card">
                    <h3>ğŸ“± HÄ±zlÄ± Ä°ÅŸlemler</h3>
                    <div class="quick-actions">
                        <button class="action-btn" onclick="showTab('add-product')">+ Yeni ÃœrÃ¼n</button>
                        <button class="action-btn" onclick="exportData()">ğŸ“¥ Export</button>
                        <button class="action-btn" onclick="importData()">ğŸ“¤ Import</button>
                    </div>
                </div>
            </div>
        </div>

       <!-- Products Tab -->
       <div id="products" class="tab-content">
        <div class="products-header">
            <h2>ÃœrÃ¼n Listesi</h2>
            <div class="filters">
                <select id="categoryFilter">
                    <option value="">TÃ¼m Kategoriler</option>
                    <option value="Elektronik">Elektronik</option>
                    <option value="Giyim">Giyim</option>
                    <option value="GÄ±da">GÄ±da</option>
                    <option value="Temizlik">Temizlik</option>
                </select>
                <select id="stockFilter">
                    <option value="">TÃ¼m Stoklar</option>
                    <option value="inStock">Stokta Var</option>
                    <option value="lowStock">DÃ¼ÅŸÃ¼k Stok</option>
                    <option value="outOfStock">Stokta Yok</option>
                    <option value="recent">En Son Eklenen</option>
                </select>
                <input type="text" id="searchProducts" placeholder="ÃœrÃ¼n ara...">
            </div>
        </div>

        <div class="table-container">
            <table id="productsTable">
                <thead>
                    <tr>
                        <th>ÃœrÃ¼n Kodu</th>
                        <th>ÃœrÃ¼n AdÄ±</th>
                        <th>Kategori</th>
                        <th>Stok MiktarÄ±</th>
                        <th>Birim Fiyat</th>
                        <th>Toplam DeÄŸer</th>
                        <th>Durum</th>
                        <th>Eklenme Tarihi</th>
                        <th>Ä°ÅŸlemler</th>

                    </tr>
                </thead>
                <tbody id="productsTableBody">
                    <!-- ÃœrÃ¼nler buraya dinamik olarak eklenecek -->
                </tbody>
            </table>
        </div>
    </div>

        <!-- Add Product Tab -->
        <div id="add-product" class="tab-content">
            <div class="form-container">
                <h2>Yeni ÃœrÃ¼n Ekle</h2>
                <form id="productForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productCode">ÃœrÃ¼n Kodu *</label>
                            <input type="text" id="productCode" required>
                        </div>
                        <div class="form-group">
                            <label for="productName">ÃœrÃ¼n AdÄ± *</label>
                            <input type="text" id="productName" required>
                            <div class="validation-message" id="productName-validation"></div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="category">Kategori *</label>
                            <select id="category" required>
                                <option value="">SeÃ§iniz</option>
                                <option value="Elektronik">Elektronik</option>
                                <option value="Giyim">Giyim</option>
                                <option value="GÄ±da">GÄ±da</option>
                                <option value="Temizlik">Temizlik</option>
                            </select>
                            <div class="validation-message" id="category-validation"></div>
                        </div>
                        <div class="form-group">
                            <label for="supplier">TedarikÃ§i</label>
                            <input type="text" id="supplier">
                            <div class="validation-message" id="supplier-validation"></div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="quantity">Stok MiktarÄ± *</label>
                            <input type="number" id="quantity" min="0" required>
                            <div class="validation-message" id="quantity-validation"></div>
                        </div>
                        <div class="form-group">
                            <label for="minStock">Minimum Stok</label>
                            <input type="number" id="minStock" min="0" value="10">
                            <div class="validation-message" id="minStock-validation"></div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="buyPrice">AlÄ±ÅŸ FiyatÄ± *</label>
                            <input type="number" id="buyPrice" min="0" step="0.01" required>
                            <div class="validation-message" id="buyPrice-validation"></div>
                        </div>
                        <div class="form-group">
                            <label for="sellPrice">SatÄ±ÅŸ FiyatÄ± *</label>
                            <input type="number" id="sellPrice" min="0" step="0.01" required>
                            <div class="validation-message" id="sellPrice-validation"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description">AÃ§Ä±klama</label>
                        <textarea id="description" rows="3"></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">ğŸ’¾ ÃœrÃ¼n Ekle</button>
                        <button type="button" class="btn-secondary" onclick="clearForm()">ğŸ—‘ï¸ Temizle</button>
                    </div>
                </form>
            </div>
        </div>

       
        <!-- Reports Tab -->
        <div id="reports" class="tab-content">
            <div class="reports-header">
                <h2>ğŸ“ˆ Raporlar & Analizler</h2>
                
                <!-- Date Range Selector -->
                <div class="date-filter-section">
                    <label>ğŸ“… Rapor DÃ¶nemi:</label>
                    <select id="reportPeriod" class="period-selector">
                        <option value="today">BugÃ¼n</option>
                        <option value="week">Bu Hafta</option>
                        <option value="month" selected>Bu Ay</option>
                        <option value="year">Bu YÄ±l</option>
                    </select>
                    
                    <!-- Custom Date Range (Hidden by default) -->
                    <div id="customDateRange" class="custom-date-range" style="display: none;">
                        <input type="date" id="startDate" class="date-input">
                        <span>-</span>
                        <input type="date" id="endDate" class="date-input">
                        <button id="applyDateRange" class="btn-apply">Uygula</button>
                    </div>
                </div>

                <!-- Export Controls -->
                <div class="export-controls">
                    <button id="exportPDF" class="export-btn pdf">ğŸ“„ PDF Ä°ndir</button>
                    <button id="exportExcel" class="export-btn excel">ğŸ“ˆ Excel Ä°ndir</button>
                    <button id="exportImage" class="export-btn image">ğŸ–¼ï¸ Grafik Ä°ndir</button>
                    <button id="refreshReports" class="export-btn refresh">ğŸ”„ Yenile</button>
                </div>
            </div>

          

            <!-- Charts Grid -->
            <div class="reports-grid">
                <!-- Stock Status Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>ğŸ¯ Stok Durumu</h3>
                        
                    </div>
                    <div class="chart-container">
                        <canvas id="stockChart"></canvas>
                    </div>
                    <div class="chart-legend" id="stockLegend"></div>
                </div>

                <!-- Category Distribution Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>ğŸ“‚ Kategori DaÄŸÄ±lÄ±mÄ±</h3>
                        
                    </div>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                    <div class="chart-info" id="categoryInfo"></div>
                </div>

                <!-- Value Analysis Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>ğŸ’ DeÄŸer Analizi</h3>
                       
                    </div>
                    <div class="chart-container">
                        <canvas id="valueChart"></canvas>
                    </div>
                    <div class="chart-summary" id="valueSummary"></div>
                </div>

                <!-- Trend Analysis Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>ğŸ“Š Trend Analizi</h3>
                        
                    </div>
                    <div class="chart-container">
                        <canvas id="trendChart"></canvas>
                    </div>
                    <div class="trend-insights" id="trendInsights"></div>
                </div>
            </div>

            

                
                                <!-- Dynamic content -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
     <!-- Admin Modal -->
     <div id="adminModal" class="admin-modal">
        <div class="admin-modal-content">
            <!-- Admin Login -->
            <div id="adminLoginModal" class="admin-login-modal">
                <div class="modal-header">
                    <h2>ğŸ” Admin GiriÅŸi Gerekli</h2>
                    <span class="close-admin" onclick="closeAdminModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <p>Bu iÅŸlem iÃ§in admin yetkisi gereklidir.</p>
                    <form id="adminAuthForm">
                        <div class="form-group">
                            <label for="adminPasswordModal">Åifre</label>
                            <input type="password" id="adminPasswordModal" placeholder="Admin ÅŸifresini girin..." required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">ğŸ”“ DoÄŸrula</button>
                            <button type="button" class="btn-secondary" onclick="closeAdminModal()">Ä°ptal</button>
                        </div>
                    </form>
                    <div class="admin-hint">
                        <small>ğŸ’¡ VarsayÄ±lan ÅŸifre: <code>admin123</code></small>
                    </div>
                </div>
            </div>

            <!-- Admin Dashboard (Hidden initially) -->
            <div id="adminDashboardModal" class="admin-dashboard-modal" style="display: none;">
                <div class="modal-header">
                    <h2>Admin Panel</h2>
                    <span class="close-admin" onclick="closeAdminModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <!-- Quick Actions -->
                    <div class="admin-quick-actions">
                        <h3>âš¡ HÄ±zlÄ± Ä°ÅŸlemler</h3>
                        <div class="quick-actions-grid">
                            <button class="quick-action-btn" onclick="quickAddProduct()">
                                â• ÃœrÃ¼n Ekle
                            </button>
                            <button class="quick-action-btn" onclick="showAdminProducts()">
                                ğŸ“‹ ÃœrÃ¼n YÃ¶net
                            </button>
                          
                        </div>
                    </div>

                    <!-- Admin Content Area -->
                    <div id="adminContentArea" class="admin-content-area">
                        <div class="admin-welcome">
                            <h3>ğŸ¯ Yapmak istediÄŸiniz iÅŸlemi seÃ§in</h3>
                            <p>YukarÄ±daki hÄ±zlÄ± iÅŸlemler butonlarÄ±nÄ± kullanabilirsiniz.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    



    

    <!-- Success/Error Messages -->
    <div id="messageContainer" class="message-container"></div>



    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="js/app.js"></script>
</body>
</html>